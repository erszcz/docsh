proplists:is_defined(noshell, init:get_arguments()) == false andalso begin
    DocshBase0 = "$DOCSH_BASE",
    DocshBase = case DocshBase0 of
        "$" ++ _ -> os:getenv("DOCSH_BASE");
        _ -> DocshBase0
    end,
    code:add_path(DocshBase ++ "/_build/default/lib/docsh/ebin"),
    docsh:activated()
end.
UserDefault = case os:getenv("DOCSH_USER_DEFAULT") of
    false -> os:getenv("HOME") ++ "/.erlang.d/user_default";
    [_|_] = Dir -> Dir
end.
code:load_abs(UserDefault).
